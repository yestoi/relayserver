<!DOCTYPE html>
<html>
	<head>
		<link href="css/style.css" rel="stylesheet">
		<link href="css/jquery.sidr.dark.css" rel="stylesheet">
		<script type="text/javascript" src="//code.jquery.com/jquery-1.6.1.min.js"></script>
		<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/socket.io/0.9.16/socket.io.min.js"></script>
		<script type="text/javascript" src="js/jquery.nested.js"></script>
		<script type="text/javascript" src="js/jquery.sidr.js"></script>
		<script type="text/javascript" src="js/makeboxes.js"></script>
<script> 
$(document).ready(function() {
	$("#sessions").nested({
		gutter: 5,
		minWidth: 75,
		resizeToFit: false,
		animate: false,
		animationOptions: {
			speed: 300,
			duration: 200,
			queue: false 
		}
	});

	$("#teamgrid").nested({
		gutter: 5,
		minWidth: 75,
		resizeToFit: false,
		animate: false,
		animationOptions: {
			speed: 300,
			duration: 200,
			queue: false 
		}
	});

	$('#menu').sidr({displace: false});
	$.sidr('open', 'sidr');

	$('.invisible').hide(); 
	$('#init').remove();

	var socket = io.connect('http://' + document.domain + ':' + location.port + '/sessions');

	var sess = [];
	socket.on('session_data', function(data) {
		for (var key in data) {
			if (data.hasOwnProperty(key)) {
				var keyid = key.replace(/\./g, "-");
				var title = key.replace("--", " -> ");

				if ($.inArray(keyid, sess) > -1) {
					$("#" + keyid).empty();
					$("#" + keyid).append("<H2>" + title + "</H2>");
					$("#" + keyid).append("<pre>" + data[key] + "</pre>");
				}
				else {
					var box = makeBoxes(1, 54, keyid);
					$('#sessions').append(box).nested('append', box);
					sess.push(keyid);
				}
			}
		}
	});

	hideAll = function() {
		$("div.menu").hide();
		$("li").removeClass("active");
		}

	$("li.teams").click(function() {
		hideAll();
		$("#teams").show();
		$("li.teams").addClass("active");
	});

	$("li.sessions").click(function() {
		hideAll();
		$("#sessions").show();
		$("li.sessions").addClass("active");
	});

	$("li.relays").click(function() {
		hideAll();
		$("#relays").show();
		$("li.relays").addClass("active");
	});

	$("li.jobs").click(function() {
		hideAll();
		$("#jobs").show();
		$("li.jobs").addClass("active");
	});

});


</script>
	</head>

<body>
	<a id="menu" href="#sidr" class="invisible"></a> <!-- Horrible hack -->
	<div id="sidr">
		<ul>
			<li class="teams"><a href="#">Teams</a></li>
			<li class="active sessions"><a href="#">Sessions</a></li>
			<li class="relays"><a href="#">Relays</a></li>
			<li class="jobs"><a href="#">Jobs</a></li>
		</ul>
	</div>

	<div id="sessions" class="menu">
		<div id="init" class="box size44"></div>
	</div>

	<div id="teams" class="invisible menu">
		<div>
			<input type="text" class="ui-corner-all" placeholder="Name"></input>
			<input type="text" class="ui-corner-all" placeholder="IP Address"></input>
			<button>Add Hacker</button>
		</div>

		<div>
			Red Team Member Listing Area
		</div>

		<div id="teamgrid">
			<div class="box size33">
				<h2>Team 1</h2>
				<ul>
					<li>192.168.1.20</li>
					<li>192.168.1.40</li>
					<li>192.168.1.50</li>
					<li>192.168.1.60</li>
					<li>192.168.1.70</li>
					<li>192.168.1.80</li>
					<li>192.168.1.90</li>
					<li>192.168.1.100</li>
				</ul>
			</div>
<div class="box size33">
				<h2>Team 1</h2>
				<ul>
					<li>192.168.1.20</li>
					<li>192.168.1.40</li>
					<li>192.168.1.50</li>
					<li>192.168.1.60</li>
					<li>192.168.1.70</li>
					<li>192.168.1.80</li>
					<li>192.168.1.90</li>
					<li>192.168.1.100</li>
				</ul>
			</div>
<div class="box size33">
				<h2>Team 1</h2>
				<ul>
					<li>192.168.1.20</li>
					<li>192.168.1.40</li>
					<li>192.168.1.50</li>
					<li>192.168.1.60</li>
					<li>192.168.1.70</li>
					<li>192.168.1.80</li>
					<li>192.168.1.90</li>
					<li>192.168.1.100</li>
				</ul>
			</div>
<div class="box size33">
				<h2>Team 1</h2>
				<ul>
					<li>192.168.1.20</li>
					<li>192.168.1.40</li>
					<li>192.168.1.50</li>
					<li>192.168.1.60</li>
					<li>192.168.1.70</li>
					<li>192.168.1.80</li>
					<li>192.168.1.90</li>
					<li>192.168.1.100</li>
				</ul>
			</div>
<div class="box size33">
				<h2>Team 1</h2>
				<ul>
					<li>192.168.1.20</li>
					<li>192.168.1.40</li>
					<li>192.168.1.50</li>
					<li>192.168.1.60</li>
					<li>192.168.1.70</li>
					<li>192.168.1.80</li>
					<li>192.168.1.90</li>
					<li>192.168.1.100</li>
				</ul>
			</div>
<div class="box size33">
				<h2>Team 1</h2>
				<ul>
					<li>192.168.1.20</li>
					<li>192.168.1.40</li>
					<li>192.168.1.50</li>
					<li>192.168.1.60</li>
					<li>192.168.1.70</li>
					<li>192.168.1.80</li>
					<li>192.168.1.90</li>
					<li>192.168.1.100</li>
				</ul>
			</div>
<div class="box size33">
				<h2>Team 1</h2>
				<ul>
					<li>192.168.1.20</li>
					<li>192.168.1.40</li>
					<li>192.168.1.50</li>
					<li>192.168.1.60</li>
					<li>192.168.1.70</li>
					<li>192.168.1.80</li>
					<li>192.168.1.90</li>
					<li>192.168.1.100</li>
				</ul>
			</div>
<div class="box size33">
				<h2>Team 1</h2>
				<ul>
					<li>192.168.1.20</li>
					<li>192.168.1.40</li>
					<li>192.168.1.50</li>
					<li>192.168.1.60</li>
					<li>192.168.1.70</li>
					<li>192.168.1.80</li>
					<li>192.168.1.90</li>
					<li>192.168.1.100</li>
				</ul>
			</div>
<div class="box size33">
				<h2>Team 1</h2>
				<ul>
					<li>192.168.1.20</li>
					<li>192.168.1.40</li>
					<li>192.168.1.50</li>
					<li>192.168.1.60</li>
					<li>192.168.1.70</li>
					<li>192.168.1.80</li>
					<li>192.168.1.90</li>
					<li>192.168.1.100</li>
				</ul>
			</div>
<div class="box size33">
				<h2>Team 1</h2>
				<ul>
					<li>192.168.1.20</li>
					<li>192.168.1.40</li>
					<li>192.168.1.50</li>
					<li>192.168.1.60</li>
					<li>192.168.1.70</li>
					<li>192.168.1.80</li>
					<li>192.168.1.90</li>
					<li>192.168.1.100</li>
				</ul>
			</div>
<div class="box size33">
				<h2>Team 1</h2>
				<ul>
					<li>192.168.1.20</li>
					<li>192.168.1.40</li>
					<li>192.168.1.50</li>
					<li>192.168.1.60</li>
					<li>192.168.1.70</li>
					<li>192.168.1.80</li>
					<li>192.168.1.90</li>
					<li>192.168.1.100</li>
				</ul>
			</div>
		</div>
	</div>

	<div id="relays" class="invisible menu"></div>
	<div id="jobs" class="invisible menu"></div>
</body>
</html>
